{% extends 'base.html' %}
{% block title %}Agregar Producto{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center text-primary mb-4">➕ Agregar Nuevo Producto</h2>

  <form method="POST" class="card p-4 shadow">
    {% csrf_token %}

    {% if user.rol == 'administrador' %}
      <div class="mb-3">
        <label for="sucursal" class="form-label">Sucursal</label>
        <select name="sucursal" class="form-select" required>
          <option value="">-- Seleccione una sucursal --</option>
          {% for s in sucursales %}
            <option value="{{ s.id }}">{{ s.nombre }}</option>
          {% endfor %}
        </select>
      </div>
    {% else %}
      <div class="mb-3">
        <label class="form-label">Sucursal</label>
        <input type="text" class="form-control" value="{{ user.sucursal.nombre }}" readonly>
      </div>
    {% endif %}

    <div class="mb-3">
      <label class="form-label">Nombre del producto</label>
      <input type="text" name="nombre" class="form-control" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Categoría</label>
      <input type="text" name="categoria" class="form-control">
    </div>
    <!--<div class="mb-3">
      <label>Stock inicial</label>
      <input type="number" name="stock" class="form-control" required>
    </div>-->

    <div class="mb-3">
      <label class="form-label">Código de barras</label>
      <input type="text" name="codigo_barras" class="form-control">
    </div>

    <div class="mb-3">
      <label class="form-label">Precio</label>
      <input type="number" step="0.01" name="precio" class="form-control" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Stock inicial</label>
      <input type="number" name="stock_inicial" class="form-control" min="0" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Stock mínimo</label>
      <input type="number" name="stock_minimo" class="form-control" min="0" required>
    </div>

    <div class="text-center">
      <button type="submit" class="btn btn-primary">Guardar Producto</button>
      <a href="{% url 'inventario' %}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}

